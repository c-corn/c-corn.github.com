<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>CoRN.reals.Intervals</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<div class="code">

<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Intervals">Intervals</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab445"></a><h1 class="section">Intervals</h1>

In this section we define (compact) intervals of the real line and
some useful functions to work with them.

<br/><br/>
<a name="lab446"></a><h2 class="section">Definitions</h2>


<br/><br/>
We start by defining the compact interval <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span> as being the set of
points less or equal than <span class="inlinecode"><span class="id" type="var">b</span></span> and greater or equal than <span class="inlinecode"><span class="id" type="var">a</span></span>.  We
require <span class="inlinecode"><span class="id" type="var">a</span> &le; <span class="id" type="var">b</span></span>, as we want to work only in nonempty intervals.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="compact">compact</a></span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) (<span class="id" type="var">Hab</span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>) (<span class="id" type="var">x</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) := <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">x</span> <span class="id" type="var">and</span> <span class="id" type="var">x</span> [&lt;=] <span class="id" type="var">b</span>.<br/>

<br/>
</div>

<div class="doc">
 Let <span class="inlinecode"><span class="id" type="var">a</span>,b : <span class="id" type="var">IR</span></span> and <span class="inlinecode"><span class="id" type="var">Hab</span> : <span class="id" type="var">a</span> &le; <span class="id" type="var">b</span></span>.


<br/><br/>
As expected, both <span class="inlinecode"><span class="id" type="var">a</span></span> and <span class="inlinecode"><span class="id" type="var">b</span></span> are members of <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span>.  Also they are
members of the interval <span class="inlinecode">[<span class="id" type="var">Min</span>(<span class="id" type="var">a</span>,b),Max(a,b)]</span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Intervals.a">a</a></span> <span class="id" type="variable"><a name="Intervals.b">b</a></span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Intervals.Hab">Hab</a></span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_inc_lft">compact_inc_lft</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">a</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_inc_rht">compact_inc_rht</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">b</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_Min_lft">compact_Min_lft</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">Hab'</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Min">Min</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Max">Max</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) <span class="id" type="var">Hab'</span> <span class="id" type="var">a</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_Min_rht">compact_Min_rht</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">Hab'</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Min">Min</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Max">Max</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) <span class="id" type="var">Hab'</span> <span class="id" type="var">b</span>.<br/>

<br/>
</div>

<div class="doc">
As we will be interested in taking functions with domain in a compact
interval, we want this predicate to be well defined.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_wd">compact_wd</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.algebra.CSetoids.html#pred_wd">pred_wd</a></span> <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span>).<br/>

<br/>
</div>

<div class="doc">
Also, it will sometimes be necessary to rewrite the endpoints of an interval.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_wd'">compact_wd'</a></span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">a'</span> <span class="id" type="var">b'</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) <span class="id" type="var">Hab'</span> (<span class="id" type="var">x</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>),<br/>
&nbsp;<span class="id" type="var">a</span> [=] <span class="id" type="var">a'</span> -&gt; <span class="id" type="var">b</span> [=] <span class="id" type="var">b'</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">x</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a'</span> <span class="id" type="var">b'</span> <span class="id" type="var">Hab'</span> <span class="id" type="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
As we identify subsets with predicates, inclusion is simply implication.

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Finally, we define a restriction operator that takes a function <span class="inlinecode"><span class="id" type="var">F</span></span>
and a well defined predicate <span class="inlinecode"><span class="id" type="var">P</span></span> included in the domain of <span class="inlinecode"><span class="id" type="var">F</span></span> and
returns the restriction  of F to P.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Frestr">Frestr</a></span> <span class="id" type="var">F</span> <span class="id" type="var">P</span> (<span class="id" type="var">HP</span> : <span class="id" type="definition"><a class="idref" href="CoRN.algebra.CSetoids.html#pred_wd">pred_wd</a></span> <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> <span class="id" type="var">P</span>) (<span class="id" type="var">H</span> : &sube; <span class="id" type="var">P</span> (<span class="id" type="abbreviation"><a class="idref" href="CoRN.algebra.CSetoidFun.html#Dom">Dom</a></span> <span class="id" type="var">F</span>)) : <span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.CauchySeq.html#PartIR">PartIR</a></span>.<br/>
<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Intervals.html#Intervals">Intervals</a></span>.<br/>

<br/>
<span class="id" type="keyword">Notation</span> <span class="id" type="abbreviation"><a name="Compact">Compact</a></span> := (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
<span class="id" type="keyword">Notation</span> <span class="id" type="abbreviation"><a name="FRestr">FRestr</a></span> := (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#Frestr">Frestr</a></span> (<span class="id" type="lemma"><a class="idref" href="CoRN.reals.Intervals.html#compact_wd">compact_wd</a></span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)).<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="More_Intervals">More_Intervals</a></span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="included_refl'">included_refl'</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">Hab'</span>, &sube; (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab'</span>).<br/>

<br/>
</div>

<div class="doc">
We prove some inclusions of compact intervals.  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="compact_map1">compact_map1</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">Hab'</span>,<br/>
&nbsp;&sube; (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Min">Min</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Max">Max</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) <span class="id" type="var">Hab'</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span>).<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="compact_map2">compact_map2</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">Hab'</span>,<br/>
&nbsp;&sube; (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Min">Min</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Max">Max</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) <span class="id" type="var">Hab'</span>).<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="compact_map3">compact_map3</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">e</span> <span class="id" type="var">Hab</span> <span class="id" type="var">Hab'</span>, 0 [&lt;] <span class="id" type="var">e</span> -&gt;<br/>
&nbsp;&sube; (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> (<span class="id" type="var">b</span>[-]<span class="id" type="var">e</span>) <span class="id" type="var">Hab'</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span>).<br/>
<br/>
<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Intervals.html#More_Intervals">More_Intervals</a></span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Totally_Bounded">Totally_Bounded</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab447"></a><h2 class="section">Totally Bounded</h2>


<br/><br/>
Totally bounded sets will play an important role in what is
to come.  The definition (equivalent to the classical one) states that
<span class="inlinecode"><span class="id" type="var">P</span></span> is totally bounded iff
&forall;e&gt;0
&exist;x<sub>1</sub>,...,x<sub>n</sub>&forall;y&isin;P&exist;
1&le;i&le;n.|y-x<sub>i</sub>|&lt;e.

<br/><br/>
Notice the use of lists for quantification.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="totally_bounded">totally_bounded</a></span> (<span class="id" type="var">P</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span>) : <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span> := {<span class="id" type="var">x</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> | <span class="id" type="var">P</span> <span class="id" type="var">x</span>} <span class="id" type="var">and</span> (<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span>,<br/>
&nbsp;0 [&lt;] <span class="id" type="var">e</span> -&gt; {<span class="id" type="var">l</span> : <span class="id" type="inductive"><a class="idref" href="http://coq.inria.fr/library/Coq.Lists.List.html#list">list</a></span> <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> | <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.RealLists.html#member">member</a></span> <span class="id" type="var">x</span> <span class="id" type="var">l</span> -&gt; <span class="id" type="var">P</span> <span class="id" type="var">x</span> |<br/>
&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span>, <span class="id" type="var">P</span> <span class="id" type="var">x</span> -&gt; {<span class="id" type="var">y</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> | <span class="id" type="definition"><a class="idref" href="CoRN.reals.RealLists.html#member">member</a></span> <span class="id" type="var">y</span> <span class="id" type="var">l</span> | <span class="id" type="definition"><a class="idref" href="CoRN.algebra.COrdAbs.html#AbsSmall">AbsSmall</a></span> <span class="id" type="var">e</span> (<span class="id" type="var">x</span>[-]<span class="id" type="var">y</span>)}}).<br/>

<br/>
</div>

<div class="doc">
This definition is classically, but not constructively, equivalent to
the definition of compact (if completeness is assumed); the next
result, classically equivalent to the Heine-Borel theorem, justifies
that we take the definition of totally bounded to be the relevant one
and that we defined compacts as we did.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_is_totally_bounded">compact_is_totally_bounded</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#totally_bounded">totally_bounded</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span>).<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>

<br/>
</div>

<div class="doc">
Suprema and infima will be needed throughout; we define them here both
for arbitrary subsets of <span class="inlinecode"><span class="id" type="var">IR</span></span> and for images of functions.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="set_glb_IR">set_glb_IR</a></span> (<span class="id" type="var">P</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span>) <span class="id" type="var">a</span> : <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span> := (<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span>, <span class="id" type="var">P</span> <span class="id" type="var">x</span> -&gt; <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">x</span>) <span class="id" type="var">and</span><br/>
&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span>, 0 [&lt;] <span class="id" type="var">e</span> -&gt; {<span class="id" type="var">x</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> | <span class="id" type="var">P</span> <span class="id" type="var">x</span> | <span class="id" type="var">x</span>[-]<span class="id" type="var">a</span> [&lt;] <span class="id" type="var">e</span>}).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="set_lub_IR">set_lub_IR</a></span> (<span class="id" type="var">P</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span>) <span class="id" type="var">a</span> : <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span> := (<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span>, <span class="id" type="var">P</span> <span class="id" type="var">x</span> -&gt; <span class="id" type="var">x</span> [&lt;=] <span class="id" type="var">a</span>) <span class="id" type="var">and</span><br/>
&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span>, 0 [&lt;] <span class="id" type="var">e</span> -&gt; {<span class="id" type="var">x</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> | <span class="id" type="var">P</span> <span class="id" type="var">x</span> | <span class="id" type="var">a</span>[-]<span class="id" type="var">x</span> [&lt;] <span class="id" type="var">e</span>}).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="fun_image">fun_image</a></span> <span class="id" type="var">F</span> (<span class="id" type="var">P</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span>) <span class="id" type="var">x</span> : <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span> := {<span class="id" type="var">y</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> |<br/>
&nbsp;<span class="id" type="var">P</span> <span class="id" type="var">y</span> <span class="id" type="var">and</span> <span class="id" type="abbreviation"><a class="idref" href="CoRN.algebra.CSetoidFun.html#Dom">Dom</a></span> <span class="id" type="var">F</span> <span class="id" type="var">y</span> <span class="id" type="var">and</span> (<span class="id" type="keyword">forall</span> <span class="id" type="var">Hy</span>, <span class="id" type="var">F</span> <span class="id" type="var">y</span> <span class="id" type="var">Hy</span> [=] <span class="id" type="var">x</span>)}.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="fun_glb_IR">fun_glb_IR</a></span> <span class="id" type="var">F</span> (<span class="id" type="var">P</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span>) <span class="id" type="var">a</span> : <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span> :=<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#set_glb_IR">set_glb_IR</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#fun_image">fun_image</a></span> <span class="id" type="var">F</span> <span class="id" type="var">P</span>) <span class="id" type="var">a</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="fun_lub_IR">fun_lub_IR</a></span> <span class="id" type="var">F</span> (<span class="id" type="var">P</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span>) <span class="id" type="var">a</span> : <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span> :=<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#set_lub_IR">set_lub_IR</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#fun_image">fun_image</a></span> <span class="id" type="var">F</span> <span class="id" type="var">P</span>) <span class="id" type="var">a</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
The following are probably the most important results in this section.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="totally_bounded_has_lub">totally_bounded_has_lub</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">P</span>,<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#totally_bounded">totally_bounded</a></span> <span class="id" type="var">P</span> -&gt; {<span class="id" type="var">z</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> | <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#set_lub_IR">set_lub_IR</a></span> <span class="id" type="var">P</span> <span class="id" type="var">z</span>}.<br/>
<br/>
<br/>
<br/>
<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="totally_bounded_has_glb">totally_bounded_has_glb</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">P</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span>,<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#totally_bounded">totally_bounded</a></span> <span class="id" type="var">P</span> -&gt; {<span class="id" type="var">z</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> | <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#set_glb_IR">set_glb_IR</a></span> <span class="id" type="var">P</span> <span class="id" type="var">z</span>}.<br/>
<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Intervals.html#Totally_Bounded">Totally_Bounded</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Compact">Compact</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab448"></a><h2 class="section">Compact sets</h2>


<br/><br/>
In this section we dwell a bit farther into the definition of compactness
and explore some of its properties.

<br/><br/>
The following characterization of inclusion can be very useful:

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="included_compact">included_compact</a></span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> <span class="id" type="var">d</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) <span class="id" type="var">Hab</span> <span class="id" type="var">Hcd</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">c</span> -&gt;<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">d</span> -&gt; &sube; (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">c</span> <span class="id" type="var">d</span> <span class="id" type="var">Hcd</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span>).<br/>

<br/>
</div>

<div class="doc">
At several points in our future development of a theory we will need
to partition a compact interval in subintervals of length smaller than
some predefined value <span class="inlinecode">&epsilon;</span>. Although this seems a
consequence of every compact interval being totally bounded, it is in
fact a stronger property.  In this section we perform that
construction (requiring the endpoints of the interval to be distinct)
and prove some of its good properties.

<br/><br/>
 Let <span class="inlinecode"><span class="id" type="var">a</span>,b : <span class="id" type="var">IR</span></span>, <span class="inlinecode"><span class="id" type="var">Hab</span> : (<span class="id" type="var">a</span> &le; <span class="id" type="var">b</span>)</span> and denote by <span class="inlinecode"><span class="id" type="var">I</span></span>
the compact interval <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span>.  Also assume that <span class="inlinecode"><span class="id" type="var">a</span> &lt; <span class="id" type="var">b</span></span>, and let <span class="inlinecode"><span class="id" type="var">e</span></span> be
a positive real number.


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Compact.a">a</a></span> <span class="id" type="variable"><a name="Compact.b">b</a></span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Compact.Hab">Hab</a></span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>.<br/>

<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Compact.Hab'">Hab'</a></span> : <span class="id" type="var">a</span> [&lt;] <span class="id" type="var">b</span>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Compact.e">e</a></span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Compact.He">He</a></span> : 0 [&lt;] <span class="id" type="var">e</span>.<br/>

<br/>
</div>

<div class="doc">
We start by finding a natural number <span class="inlinecode"><span class="id" type="var">n</span></span> such that <span class="inlinecode">(<span class="id" type="var">b</span>&minus;<span class="id" type="var">a</span>) / <span class="id" type="var">n</span> &lt; <span class="id" type="var">e</span></span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="compact_nat">compact_nat</a></span> := <span class="id" type="abbreviation"><a class="idref" href="CoRN.logic.CLogic.html#ProjT1">ProjT1</a></span> (<span class="id" type="lemma"><a class="idref" href="CoRN.reals.CauchySeq.html#Archimedes">Archimedes</a></span> (<span class="id" type="var">b</span>[-]<span class="id" type="var">a</span>[/] <span class="id" type="var">e</span>[//]<span class="id" type="lemma"><a class="idref" href="CoRN.algebra.COrdFields.html#pos_ap_zero">pos_ap_zero</a></span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">He</span>)).<br/>

<br/>
</div>

<div class="doc">
Obviously such an <span class="inlinecode"><span class="id" type="var">n</span></span> must be greater than zero.
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="pos_compact_nat">pos_compact_nat</a></span> : 0 [&lt;] <span class="id" type="definition"><a class="idref" href="CoRN.algebra.CRings.html#nring">nring</a></span> (<span class="id" type="var">R</span>:=IR) <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact_nat">compact_nat</a></span>.<br/>

<br/>
</div>

<div class="doc">
We now define a sequence on <span class="inlinecode"><span class="id" type="var">n</span></span> points in <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span> by
<span class="inlinecode"><span class="id" type="var">x_i</span> = <span class="id" type="var">Min</span>(<span class="id" type="var">a</span>,b) +<span class="id" type="var">i</span>&times; (<span class="id" type="var">b</span>&minus;<span class="id" type="var">a</span>) /<span class="id" type="var">n</span></span> and
prove that all of its points are really in that interval.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="compact_part">compact_part</a></span> (<span class="id" type="var">i</span> : <b>N</b>) : <span class="id" type="var">i</span> &lt;= <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact_nat">compact_nat</a></span> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_part_hyp">compact_part_hyp</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact_part">compact_part</a></span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>).<br/>

<br/>
</div>

<div class="doc">
This sequence is strictly increasing and each two consecutive points
are apart by less than <span class="inlinecode"><span class="id" type="var">e</span></span>.
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_less">compact_less</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> <span class="id" type="var">HSi</span>, 0 [&lt;] <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact_part">compact_part</a></span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">i</span>) <span class="id" type="var">HSi</span>[-]<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact_part">compact_part</a></span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_leEq">compact_leEq</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> <span class="id" type="var">HSi</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact_part">compact_part</a></span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">i</span>) <span class="id" type="var">HSi</span>[-]<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact_part">compact_part</a></span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> [&lt;=] <span class="id" type="var">e</span>.<br/>

<br/>
</div>

<div class="doc">
When we proceed to integration, this lemma will also be useful: 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_partition_lemma">compact_partition_lemma</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">Hn</span> <span class="id" type="var">i</span>, <span class="id" type="var">i</span> &lt;= <span class="id" type="var">n</span> -&gt;<br/>
&nbsp;<span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span> (<span class="id" type="var">a</span>[+]<span class="id" type="definition"><a class="idref" href="CoRN.algebra.CRings.html#nring">nring</a></span> <span class="id" type="var">i</span>[*] (<span class="id" type="var">b</span>[-]<span class="id" type="var">a</span>[/] <span class="id" type="var">_</span>[//]<span class="id" type="lemma"><a class="idref" href="CoRN.algebra.COrdFields.html#nring_ap_zero'">nring_ap_zero'</a></span> <span class="id" type="var">_</span> <span class="id" type="var">n</span> <span class="id" type="var">Hn</span>)).<br/>

<br/>
</div>

<div class="doc">
The next lemma provides an upper bound for the distance between two points in an interval: 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_elements">compact_elements</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>,<br/>
&nbsp;<span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">x</span> -&gt; <span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">y</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">x</span>[-]<span class="id" type="var">y</span>) [&lt;=] <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">b</span>[-]<span class="id" type="var">a</span>).<br/>

<br/>

<br/>
</div>

<div class="doc">
The following is a variation on the previous lemma: 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_elements'">compact_elements'</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">c</span> <span class="id" type="var">d</span> <span class="id" type="var">Hcd</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">x</span> -&gt;<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">c</span> <span class="id" type="var">d</span> <span class="id" type="var">Hcd</span> <span class="id" type="var">y</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">x</span>[-]<span class="id" type="var">y</span>) [&lt;=] <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Max">Max</a></span> <span class="id" type="var">b</span> <span class="id" type="var">d</span>[-]<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Min">Min</a></span> <span class="id" type="var">a</span> <span class="id" type="var">c</span>).<br/>

<br/>
</div>

<div class="doc">
The following lemma is a bit more specific: it shows that we can
also estimate the distance from the center of a compact interval to
any of its points. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="compact_bnd_AbsIR">compact_bnd_AbsIR</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">d</span> <span class="id" type="var">H</span>,<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> (<span class="id" type="var">x</span>[-]<span class="id" type="var">d</span>) (<span class="id" type="var">x</span>[+]<span class="id" type="var">d</span>) <span class="id" type="var">H</span> <span class="id" type="var">y</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">x</span>[-]<span class="id" type="var">y</span>) [&lt;=] <span class="id" type="var">d</span>.<br/>

<br/>
</div>

<div class="doc">
Finally, two more useful lemmas to prove inclusion of compact
intervals.  They will be necessary for the definition and proof of the
elementary properties of the integral.  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="included2_compact">included2_compact</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">Hxy</span>, <span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">x</span> -&gt; <span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">y</span> -&gt;<br/>
&nbsp;&sube; (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Min">Min</a></span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Max">Max</a></span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>) <span class="id" type="var">Hxy</span>) (<span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span>).<br/>
<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="included3_compact">included3_compact</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">z</span> <span class="id" type="var">Hxyz</span>,<br/>
&nbsp;<span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">x</span> -&gt; <span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">y</span> -&gt; <span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">z</span> -&gt;<br/>
&nbsp;&sube; (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Min">Min</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Min">Min</a></span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>) <span class="id" type="var">z</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Max">Max</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#Max">Max</a></span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>) <span class="id" type="var">z</span>) <span class="id" type="var">Hxyz</span>) (<span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span>).<br/>
<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr">coqdoc</a>
</div>

</div>

</body>
</html>