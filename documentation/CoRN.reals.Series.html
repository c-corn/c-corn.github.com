<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>CoRN.reals.Series</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<div class="code">

<br/>

<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Definitions">Definitions</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab487"></a><h1 class="section">Series of Real Numbers</h1>

In this file we develop a theory of series of real numbers.
<a name="lab488"></a><h2 class="section">Definitions</h2>


<br/><br/>
A series is simply a sequence from the natural numbers into the reals.  
To each such sequence we can assign a sequence of partial sums.

<br/><br/>
 Let <span class="inlinecode"><span class="id" type="var">x</span>:nat-&gt;IR</span>.


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Definitions.x">x</a></span> : <b>N</b> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> &sum;<sup>n</sup> (<span class="id" type="var">n</span> : <b>N</b>) := &sum;<sub>0</sub> <span class="id" type="var">n</span> <span class="id" type="var">x</span>.<br/>

<br/>
</div>

<div class="doc">

<br/><br/>
For subsequent purposes it will be very useful to be able to write the
difference between two arbitrary elements of the sequence of partial
sums as a sum of elements of the original sequence.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="seq_part_sum_n">seq_part_sum_n</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span>,<br/>
&nbsp;0 &lt; <span class="id" type="var">n</span> -&gt; <span class="id" type="var">m</span> &lt;= <span class="id" type="var">n</span> -&gt; &sum;<sup>n</sup> <span class="id" type="var">n</span>[-]&sum;<sup>n</sup> <span class="id" type="var">m</span> [=] &sum; <span class="id" type="var">m</span> (<span class="id" type="definition"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Peano.html#pred">pred</a></span> <span class="id" type="var">n</span>) <span class="id" type="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
A series is convergent iff its sequence of partial Sums is a
Cauchy sequence.  To each convergent series we can assign a Sum.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="convergent">convergent</a></span> := <span class="id" type="definition"><a class="idref" href="CoRN.algebra.COrdCauchy.html#Cauchy_prop">Cauchy_prop</a></span> &sum;<sup>n</sup>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> &sum;<sub>0</sub><sup>&infin;</sup> (<span class="id" type="var">H</span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span>) := <span class="id" type="definition"><a class="idref" href="CoRN.reals.CReals.html#Lim">Lim</a></span> (<span class="id" type="constructor"><a class="idref" href="CoRN.algebra.COrdCauchy.html#Build_CauchySeq">Build_CauchySeq</a></span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>).<br/>

<br/>
</div>

<div class="doc">
Divergence can be characterized in a positive way, which will sometimes 
be useful.  We thus define divergence of sequences and series and prove the 
obvious fact that no sequence can be both convergent and divergent, whether
 considered either as a sequence or as a series.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="divergent_seq">divergent_seq</a></span> (<span class="id" type="var">a</span> : <b>N</b> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) := {<span class="id" type="var">e</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> | 0 [&lt;] <span class="id" type="var">e</span> |<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">k</span>, {<span class="id" type="var">m</span> : <b>N</b> | {<span class="id" type="var">n</span> : <b>N</b> | <span class="id" type="var">k</span> &lt;= <span class="id" type="var">m</span> /\ <span class="id" type="var">k</span> &lt;= <span class="id" type="var">n</span> /\ <span class="id" type="var">e</span> [&lt;=] <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">a</span> <span class="id" type="var">m</span>[-]<span class="id" type="var">a</span> <span class="id" type="var">n</span>)}}}.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="divergent">divergent</a></span> := <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#divergent_seq">divergent_seq</a></span> &sum;<sup>n</sup>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="conv_imp_not_div">conv_imp_not_div</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span>, <span class="id" type="definition"><a class="idref" href="CoRN.algebra.COrdCauchy.html#Cauchy_prop">Cauchy_prop</a></span> <span class="id" type="var">a</span> -&gt; ~ (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#divergent_seq">divergent_seq</a></span> <span class="id" type="var">a</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="div_imp_not_conv">div_imp_not_conv</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#divergent_seq">divergent_seq</a></span> <span class="id" type="var">a</span> -&gt; ~ (<span class="id" type="definition"><a class="idref" href="CoRN.algebra.COrdCauchy.html#Cauchy_prop">Cauchy_prop</a></span> <span class="id" type="var">a</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="convergent_imp_not_divergent">convergent_imp_not_divergent</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> -&gt; ~ <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#divergent">divergent</a></span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="divergent_imp_not_convergent">divergent_imp_not_convergent</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#divergent">divergent</a></span> -&gt; ~ <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span>.<br/>

<br/>
</div>

<div class="doc">
Finally we have the well known fact that every convergent series converges 
to zero as a sequence.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="series_seq_Lim">series_seq_Lim</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.CauchySeq.html#Cauchy_Lim_prop2">Cauchy_Lim_prop2</a></span> <span class="id" type="var">x</span> 0.<br/>
<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="series_seq_Lim'">series_seq_Lim'</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">H</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.CReals.html#Lim">Lim</a></span> (<span class="id" type="constructor"><a class="idref" href="CoRN.algebra.COrdCauchy.html#Build_CauchySeq">Build_CauchySeq</a></span> <span class="id" type="var">_</span> <span class="id" type="var">x</span> <span class="id" type="var">H</span>) [=] 0.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Series.html#Definitions">Definitions</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="More_Definitions">More_Definitions</a></span>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="More_Definitions.x">x</a></span> : <b>N</b> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>

<br/>
</div>

<div class="doc">
We also define absolute convergence. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="abs_convergent">abs_convergent</a></span> := <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">x</span> <span class="id" type="var">n</span>)).<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Series.html#More_Definitions">More_Definitions</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Power_Series">Power_Series</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab489"></a><h2 class="section">Power Series</h2>


<br/><br/>
Power series are an important special case.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="power_series">power_series</a></span> (<span class="id" type="var">c</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) <span class="id" type="var">n</span> := <span class="id" type="var">c</span>[^]<span class="id" type="var">n</span>.<br/>

<br/>
</div>

<div class="doc">
Specially important is the case when <span class="inlinecode"><span class="id" type="var">c</span></span> is a real number
whose absolute value is less than 1; in this case not only the power series is convergent, but
we can also compute its sum.

<br/><br/>
 Let <span class="inlinecode"><span class="id" type="var">c</span></span> be a real number between -1 and 1.


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Power_Series.c">c</a></span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Power_Series.Hc">Hc</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> <span class="id" type="var">c</span> [&lt;] 1.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="c_exp_Lim">c_exp_Lim</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.CauchySeq.html#Cauchy_Lim_prop2">Cauchy_Lim_prop2</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#power_series">power_series</a></span> <span class="id" type="var">c</span>) 0.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="power_series_Lim1">power_series_Lim1</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">H</span> : 1[-]<span class="id" type="var">c</span> [#] 0,<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.CauchySeq.html#Cauchy_Lim_prop2">Cauchy_Lim_prop2</a></span> (&sum;<sup>n</sup> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#power_series">power_series</a></span> <span class="id" type="var">c</span>)) (1[/] <span class="id" type="var">_</span>[//]<span class="id" type="var">H</span>).<br/>
<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="power_series_conv">power_series_conv</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#power_series">power_series</a></span> <span class="id" type="var">c</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="power_series_sum">power_series_sum</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">H</span> <span class="id" type="var">Hc</span>,<br/>
&nbsp;&sum;<sub>0</sub><sup>&infin;</sup> (<span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#power_series">power_series</a></span> <span class="id" type="var">c</span>) <span class="id" type="var">Hc</span> [=] (1[/] 1[-]<span class="id" type="var">c</span>[//]<span class="id" type="var">H</span>).<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Series.html#Power_Series">Power_Series</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Operations">Operations</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab490"></a><h2 class="section">Operations</h2>


<br/><br/>
Some operations with series preserve convergence.  We start by defining 
the series that is zero everywhere.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="conv_zero_series">conv_zero_series</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; 0).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="series_sum_zero">series_sum_zero</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">H</span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; 0), &sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">H</span> [=] 0.<br/>

<br/>
</div>

<div class="doc">
Next we consider extensionality, as well as the sum and difference 
of two convergent series.

<br/><br/>
 Let <span class="inlinecode"><span class="id" type="var">x</span>,y:nat-&gt;IR</span> be convergent series.


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Operations.x">x</a></span> <span class="id" type="variable"><a name="Operations.y">y</a></span> : <b>N</b> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>

<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Operations.convX">convX</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">x</span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Operations.convY">convY</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">y</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="convergent_wd">convergent_wd</a></span> : (<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span>, <span class="id" type="var">x</span> <span class="id" type="var">n</span> [=] <span class="id" type="var">y</span> <span class="id" type="var">n</span>) -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">x</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">y</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="series_sum_wd">series_sum_wd</a></span> : (<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span>, <span class="id" type="var">x</span> <span class="id" type="var">n</span> [=] <span class="id" type="var">y</span> <span class="id" type="var">n</span>) -&gt; &sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">convX</span> [=] &sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">convY</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="conv_series_plus">conv_series_plus</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="var">x</span> <span class="id" type="var">n</span>[+]<span class="id" type="var">y</span> <span class="id" type="var">n</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="series_sum_plus">series_sum_plus</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">H</span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="var">x</span> <span class="id" type="var">n</span>[+]<span class="id" type="var">y</span> <span class="id" type="var">n</span>),<br/>
&nbsp;&sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">H</span> [=] &sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">convX</span>[+]&sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">convY</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="conv_series_minus">conv_series_minus</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="var">x</span> <span class="id" type="var">n</span>[-]<span class="id" type="var">y</span> <span class="id" type="var">n</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="series_sum_minus">series_sum_minus</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">H</span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="var">x</span> <span class="id" type="var">n</span>[-]<span class="id" type="var">y</span> <span class="id" type="var">n</span>),<br/>
&nbsp;&sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">H</span> [=] &sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">convX</span>[-]&sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">convY</span>.<br/>

<br/>
</div>

<div class="doc">
Multiplication by a scalar <span class="inlinecode"><span class="id" type="var">c</span></span> is also permitted. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Operations.c">c</a></span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="conv_series_mult_scal">conv_series_mult_scal</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="var">c</span>[*]<span class="id" type="var">x</span> <span class="id" type="var">n</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="series_sum_mult_scal">series_sum_mult_scal</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">H</span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="var">c</span>[*]<span class="id" type="var">x</span> <span class="id" type="var">n</span>),<br/>
&nbsp;&sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">H</span> [=] <span class="id" type="var">c</span>[*]&sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">convX</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Series.html#Operations">Operations</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="More_Operations">More_Operations</a></span>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="More_Operations.x">x</a></span> : <b>N</b> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="More_Operations.convX">convX</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
As a corollary, we get the series of the inverses. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="conv_series_inv">conv_series_inv</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; [--] (<span class="id" type="var">x</span> <span class="id" type="var">n</span>)).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="series_sum_inv">series_sum_inv</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">H</span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; [--] (<span class="id" type="var">x</span> <span class="id" type="var">n</span>)),<br/>
&nbsp;&sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">H</span> [=] [--] (&sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="var">convX</span>).<br/>
<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Series.html#More_Operations">More_Operations</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Almost_Everywhere">Almost_Everywhere</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab491"></a><h2 class="section">Almost Everywhere</h2>


<br/><br/>
In this section we strengthen some of the convergence results for sequences 
and derive an important corollary for series.

<br/><br/>
Let <span class="inlinecode"><span class="id" type="var">x</span>,y : <b>N</b>-&gt;IR</span> be equal after some natural number.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Almost_Everywhere.x">x</a></span> <span class="id" type="variable"><a name="Almost_Everywhere.y">y</a></span> : <b>N</b> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="aew_eq">aew_eq</a></span> := {<span class="id" type="var">n</span> : <b>N</b> | <span class="id" type="keyword">forall</span> <span class="id" type="var">k</span>, <span class="id" type="var">n</span> &lt;= <span class="id" type="var">k</span> -&gt; <span class="id" type="var">x</span> <span class="id" type="var">k</span> [=] <span class="id" type="var">y</span> <span class="id" type="var">k</span>}.<br/>

<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Almost_Everywhere.aew_equal">aew_equal</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#aew_eq">aew_eq</a></span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="aew_Cauchy">aew_Cauchy</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.algebra.COrdCauchy.html#Cauchy_prop">Cauchy_prop</a></span> <span class="id" type="var">x</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.algebra.COrdCauchy.html#Cauchy_prop">Cauchy_prop</a></span> <span class="id" type="var">y</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="aew_Cauchy2">aew_Cauchy2</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">c</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.CauchySeq.html#Cauchy_Lim_prop2">Cauchy_Lim_prop2</a></span> <span class="id" type="var">x</span> <span class="id" type="var">c</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.CauchySeq.html#Cauchy_Lim_prop2">Cauchy_Lim_prop2</a></span> <span class="id" type="var">y</span> <span class="id" type="var">c</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="aew_series_conv">aew_series_conv</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">x</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">y</span>.<br/>
<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Series.html#Almost_Everywhere">Almost_Everywhere</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Cauchy_Almost_Everywhere">Cauchy_Almost_Everywhere</a></span>.<br/>

<br/>
</div>

<div class="doc">
Suppose furthermore that <span class="inlinecode"><span class="id" type="var">x</span>,y</span> are Cauchy sequences. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Cauchy_Almost_Everywhere.x">x</a></span> <span class="id" type="variable"><a name="Cauchy_Almost_Everywhere.y">y</a></span> : <span class="id" type="record"><a class="idref" href="CoRN.algebra.COrdCauchy.html#CauchySeq">CauchySeq</a></span> <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>

<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Cauchy_Almost_Everywhere.aew_equal">aew_equal</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#aew_eq">aew_eq</a></span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="aew_Lim">aew_Lim</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.CReals.html#Lim">Lim</a></span> <span class="id" type="var">x</span> [=] <span class="id" type="definition"><a class="idref" href="CoRN.reals.CReals.html#Lim">Lim</a></span> <span class="id" type="var">y</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Series.html#Cauchy_Almost_Everywhere">Cauchy_Almost_Everywhere</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Convergence_Criteria">Convergence_Criteria</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab492"></a><h2 class="section">Convergence Criteria</h2>


<br/><br/>
 Let <span class="inlinecode"><span class="id" type="var">x</span>:nat-&gt;IR</span>.


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Convergence_Criteria.x">x</a></span> : <b>N</b> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>

<br/>
</div>

<div class="doc">
We include the comparison test for series, both in a strong and in a less 
general (but simpler) form.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="str_comparison">str_comparison</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">y</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">y</span> -&gt;<br/>
&nbsp;{<span class="id" type="var">k</span> : <b>N</b> | <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span>, <span class="id" type="var">k</span> &lt;= <span class="id" type="var">n</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">x</span> <span class="id" type="var">n</span>) [&lt;=] <span class="id" type="var">y</span> <span class="id" type="var">n</span>} -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">x</span>.<br/>
<br/>
<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="comparison">comparison</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">y</span>,<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">y</span> -&gt; (<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">x</span> <span class="id" type="var">n</span>) [&lt;=] <span class="id" type="var">y</span> <span class="id" type="var">n</span>) -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
As a corollary, we get that every absolutely convergent series converges. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="abs_imp_conv">abs_imp_conv</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#abs_convergent">abs_convergent</a></span> <span class="id" type="var">x</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
Next we have the ratio test, both as a positive and negative result. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="divergent_crit">divergent_crit</a></span> : {<span class="id" type="var">r</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> | 0 [&lt;] <span class="id" type="var">r</span> | <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span>, {<span class="id" type="var">m</span> : <b>N</b> | <span class="id" type="var">n</span> &lt;= <span class="id" type="var">m</span> | <span class="id" type="var">r</span> [&lt;=] <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">x</span> <span class="id" type="var">m</span>)}} -&gt;<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#divergent">divergent</a></span> <span class="id" type="var">x</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="tail_series">tail_series</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">y</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">y</span> -&gt;<br/>
&nbsp;{<span class="id" type="var">k</span> : <b>N</b> | {<span class="id" type="var">N</span> : <b>N</b> | <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span>, <span class="id" type="var">N</span> &lt;= <span class="id" type="var">n</span> -&gt; <span class="id" type="var">x</span> <span class="id" type="var">n</span> [=] <span class="id" type="var">y</span> (<span class="id" type="var">n</span> + <span class="id" type="var">k</span>)}} -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">x</span>.<br/>
<br/>
<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="join_series">join_series</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">x</span> -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">y</span>,<br/>
&nbsp;{<span class="id" type="var">k</span> : <b>N</b> | {<span class="id" type="var">N</span> : <b>N</b> | <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span>, <span class="id" type="var">N</span> &lt;= <span class="id" type="var">n</span> -&gt; <span class="id" type="var">x</span> <span class="id" type="var">n</span> [=] <span class="id" type="var">y</span> (<span class="id" type="var">n</span> + <span class="id" type="var">k</span>)}} -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">y</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Series.html#Convergence_Criteria">Convergence_Criteria</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="More_CC">More_CC</a></span>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="More_CC.x">x</a></span> : <b>N</b> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="ratio_test_conv">ratio_test_conv</a></span> : {<span class="id" type="var">N</span> : <b>N</b> |<br/>
&nbsp;{<span class="id" type="var">c</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> | <span class="id" type="var">c</span> [&lt;] 1 | 0 [&lt;=] <span class="id" type="var">c</span> /\ (<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span>, <span class="id" type="var">N</span> &lt;= <span class="id" type="var">n</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">x</span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">n</span>)) [&lt;=] <span class="id" type="var">c</span>[*]<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">x</span> <span class="id" type="var">n</span>))}} -&gt;<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="var">x</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="ratio_test_div">ratio_test_div</a></span> : {<span class="id" type="var">N</span> : <b>N</b> |<br/>
&nbsp;{<span class="id" type="var">c</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> | 1 [&lt;=] <span class="id" type="var">c</span> | <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span>, <span class="id" type="var">N</span> &lt;= <span class="id" type="var">n</span> -&gt; <span class="id" type="var">c</span>[*]<span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">x</span> <span class="id" type="var">n</span>) [&lt;] <span class="id" type="definition"><a class="idref" href="CoRN.reals.Max_AbsIR.html#AbsIR">AbsIR</a></span> (<span class="id" type="var">x</span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">n</span>))}} -&gt; <br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#divergent">divergent</a></span> <span class="id" type="var">x</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Series.html#More_CC">More_CC</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Alternate_Series">Alternate_Series</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab493"></a><h2 class="section">Alternate Series</h2>


<br/><br/>
Alternate series are a special case.  Suppose that <span class="inlinecode"><span class="id" type="var">x</span></span> is nonnegative and 
decreasing convergent to 0.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Alternate_Series.x">x</a></span> : <b>N</b> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>

<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Alternate_Series.pos_x">pos_x</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> : <b>N</b>, 0 [&lt;=] <span class="id" type="var">x</span> <span class="id" type="var">n</span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Alternate_Series.Lim_x">Lim_x</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.CauchySeq.html#Cauchy_Lim_prop2">Cauchy_Lim_prop2</a></span> <span class="id" type="var">x</span> 0.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Alternate_Series.mon_x">mon_x</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> : <b>N</b>, <span class="id" type="var">x</span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">n</span>) [&lt;=] <span class="id" type="var">x</span> <span class="id" type="var">n</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="alternate_series_conv">alternate_series_conv</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; [--]1[^]<span class="id" type="var">n</span>[*]<span class="id" type="var">x</span> <span class="id" type="var">n</span>).<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Series.html#Alternate_Series">Alternate_Series</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Important_Numbers">Important_Numbers</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab494"></a><h2 class="section">Important Numbers</h2>


<br/><br/>
We end this chapter by defining two important numbers in mathematics: <span class="inlinecode"><span class="id" type="var">pi</span></span>
and e, both as sums of convergent series.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="e_series">e_series</a></span> (<span class="id" type="var">n</span> : <b>N</b>) := 1[/] <span class="id" type="var">_</span>[//]<span class="id" type="lemma"><a class="idref" href="CoRN.algebra.COrdFields.html#nring_fac_ap_zero">nring_fac_ap_zero</a></span> <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> <span class="id" type="var">n</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="e_series_conv">e_series_conv</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#e_series">e_series</a></span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="E">E</a></span> := &sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="lemma"><a class="idref" href="CoRN.reals.Series.html#e_series_conv">e_series_conv</a></span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="pi_series">pi_series</a></span> <span class="id" type="var">n</span> :=<br/>
&nbsp;[--]1[^]<span class="id" type="var">n</span>[*] (1[/] <span class="id" type="var">_</span>[//]<span class="id" type="lemma"><a class="idref" href="CoRN.algebra.COrdFields.html#Greater_imp_ap">Greater_imp_ap</a></span> <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<span class="id" type="lemma"><a class="idref" href="CoRN.algebra.COrdFields2.html#pos_nring_S">pos_nring_S</a></span> <span class="id" type="var">_</span> (<span class="id" type="var">n</span> + <span class="id" type="var">n</span>))).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="pi_series_conv">pi_series_conv</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#convergent">convergent</a></span> <span class="id" type="definition"><a class="idref" href="CoRN.reals.Series.html#pi_series">pi_series</a></span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="pi">pi</a></span> := 4[*]&sum;<sub>0</sub><sup>&infin;</sup> <span class="id" type="var">_</span> <span class="id" type="lemma"><a class="idref" href="CoRN.reals.Series.html#pi_series_conv">pi_series_conv</a></span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.reals.Series.html#Important_Numbers">Important_Numbers</a></span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr">coqdoc</a>
</div>

</div>

</body>
</html>