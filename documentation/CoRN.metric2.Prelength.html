<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>CoRN.metric2.Prelength</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<div class="code">

<br/>

<br/>

<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Prelength_Space">Prelength_Space</a></span>.<br/>
</div>

<div class="doc">
<a name="lab621"></a><h2 class="section">Prelength space</h2>

In a length space the "internal" metric of a metric space corresponds
to the given external metric.  The internal metric of a space measures
the distance between two point by the length of curves connecting them.

<br/><br/>
Because the notion of curves really only makes sense in a complete metric
space, here we use a weaker notion of a prelength space.  In this case
the internal metric says that two points are within e of each other if
you can get between the two points making arbitarily short hops while
covering a distance arbitrarily close to e.

</div>
<div class="code">
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Prelength_Space.X">X</a></span>:MetricSpace.<br/>

<br/>
</div>

<div class="doc">
The notion of a prelength space is neatly characterized by the
following simple definition. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="PrelengthSpace">PrelengthSpace</a></span> :=<br/>
<span class="id" type="keyword">forall</span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span>:X) (<span class="id" type="var">e</span> <span class="id" type="var">d1</span> <span class="id" type="var">d2</span>:Qpos), <span class="id" type="var">e</span> &lt; <span class="id" type="var">d1</span>+d2 -&gt; <span class="id" type="projection"><a class="idref" href="CoRN.metric2.Metric.html#ball">ball</a></span> <span class="id" type="var">e</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> -&gt; <br/>
<span class="id" type="var">exists2</span> <span class="id" type="var">c</span>:X, <span class="id" type="projection"><a class="idref" href="CoRN.metric2.Metric.html#ball">ball</a></span> <span class="id" type="var">d1</span> <span class="id" type="var">a</span> <span class="id" type="var">c</span> &amp; <span class="id" type="projection"><a class="idref" href="CoRN.metric2.Metric.html#ball">ball</a></span> <span class="id" type="var">d2</span> <span class="id" type="var">c</span> <span class="id" type="var">b</span>.<br/>

<br/>
</div>

<div class="doc">
There is some evidence that we should be using the classical
existential in the above definition.  For now we take the middle road
and use the <span class="inlinecode"><span class="id" type="keyword">Prop</span></span> based existential.  This show that the exists
statement is not used in computations, but still every occurance is
constructive. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Prelength_Space.prelength">prelength</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#PrelengthSpace">PrelengthSpace</a></span>.<br/>

<br/>
</div>

<div class="doc">
This proves that you can construct a trail of points between a and b
that is arbitarily close to e and with arbitrarily short hops. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="trail">trail</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">dl</span> <span class="id" type="var">e</span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span>:X),<br/>
&nbsp;<span class="id" type="projection"><a class="idref" href="CoRN.metric2.Metric.html#ball">ball</a></span> <span class="id" type="var">e</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> -&gt;<br/>
&nbsp;<span class="id" type="var">e</span> &lt; <span class="id" type="definition"><a class="idref" href="CoRN.model.structures.Qpossec.html#QposSum">QposSum</a></span> <span class="id" type="var">dl</span> -&gt; <br/>
&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">n</span> := <span class="id" type="definition"><a class="idref" href="http://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id" type="var">dl</span> <span class="id" type="keyword">in</span><br/>
&nbsp;(<span class="id" type="var">exists2</span> <span class="id" type="var">f</span> : <b>N</b> -&gt; <span class="id" type="var">X</span>, <span class="id" type="var">f</span> 0 = <span class="id" type="var">a</span> /\ <span class="id" type="var">f</span> <span class="id" type="var">n</span> = <span class="id" type="var">b</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp; <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">z</span>, <span class="id" type="var">i</span> &lt; <span class="id" type="var">n</span> -&gt; <span class="id" type="projection"><a class="idref" href="CoRN.metric2.Metric.html#ball">ball</a></span> (<span class="id" type="definition"><a class="idref" href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id" type="var">i</span> <span class="id" type="var">dl</span> <span class="id" type="var">z</span>) (<span class="id" type="var">f</span> <span class="id" type="var">i</span>) (<span class="id" type="var">f</span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">i</span>)))%nat.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Prelength_Space.Y">Y</a></span>:MetricSpace.<br/>

<br/>
</div>

<div class="doc">
The major applicaiton of prelength spaces is that it allows one to
reduce the problem of <span class="inlinecode"><span class="id" type="var">ball</span> (<span class="id" type="var">e1</span> + <span class="id" type="var">e2</span>) (<span class="id" type="var">f</span> <span class="id" type="var">a</span>) (<span class="id" type="var">f</span> <span class="id" type="var">b</span>)</span> to 
<span class="inlinecode"><span class="id" type="var">ball</span> (<span class="id" type="var">mu</span> <span class="id" type="var">f</span> <span class="id" type="var">e1</span> + <span class="id" type="var">mu</span> <span class="id" type="var">f</span> <span class="id" type="var">e2</span>) <span class="id" type="var">a</span> <span class="id" type="var">b</span></span> instead of reduceing it to
<span class="inlinecode"><span class="id" type="var">ball</span> (<span class="id" type="var">mu</span> <span class="id" type="var">f</span> (<span class="id" type="var">e1</span> + <span class="id" type="var">e2</span>)) <span class="id" type="var">a</span> <span class="id" type="var">b</span></span>.  This new reduction allows one to continue
reasoning by making use of the triangle law.

<br/><br/>
Below we show a more general lemma allowing for arbitarily many terms
in the sum. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="mu_sum">mu_sum</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">e0</span> (<span class="id" type="var">es</span> : <span class="id" type="inductive"><a class="idref" href="http://coq.inria.fr/library/Coq.Lists.List.html#list">list</a></span> Q<SUP>+</SUP>) (<span class="id" type="var">f</span>:UniformlyContinuousFunction <span class="id" type="var">X</span> <span class="id" type="var">Y</span>) <span class="id" type="var">a</span> <span class="id" type="var">b</span>,<br/>
<span class="id" type="var">ball_ex</span> (<span class="id" type="definition"><a class="idref" href="http://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span> <span class="id" type="definition"><a class="idref" href="CoRN.model.structures.QposInf.html#QposInf_plus">QposInf_plus</a></span> (<span class="id" type="projection"><a class="idref" href="CoRN.metric2.UniformContinuity.html#mu">mu</a></span> <span class="id" type="var">f</span> <span class="id" type="var">e0</span>) (<span class="id" type="definition"><a class="idref" href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id" type="projection"><a class="idref" href="CoRN.metric2.UniformContinuity.html#mu">mu</a></span> <span class="id" type="var">f</span>) <span class="id" type="var">es</span>)) <span class="id" type="var">a</span> <span class="id" type="var">b</span> -&gt;<br/>
<span class="id" type="var">ball</span> (<span class="id" type="definition"><a class="idref" href="http://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span> <span class="id" type="definition"><a class="idref" href="CoRN.model.structures.Qpossec.html#Qpos_plus">Qpos_plus</a></span> <span class="id" type="var">e0</span> <span class="id" type="var">es</span>) (<span class="id" type="var">f</span> <span class="id" type="var">a</span>) (<span class="id" type="var">f</span> <span class="id" type="var">b</span>).<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.metric2.Prelength.html#Prelength_Space">Prelength_Space</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Map">Map</a></span>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Map.X">X</a></span> <span class="id" type="variable"><a name="Map.Y">Y</a></span> : <span class="id" type="record"><a class="idref" href="CoRN.metric2.Metric.html#MetricSpace">MetricSpace</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Map.plX">plX</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#PrelengthSpace">PrelengthSpace</a></span> <span class="id" type="var">X</span>.<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Map.f">f</a></span> : <span class="id" type="var">X</span> --&gt; <span class="id" type="var">Y</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab622"></a><h3 class="section">A more effictient <span class="inlinecode"><span class="id" type="var">Cmap</span></span> and <span class="inlinecode"><span class="id" type="var">Cbind</span></span></h3>

The main application of prelength spaces is to allow one to use a
more natural and more efficent map function for complete metric spaces.
Since this map function is more widely used in practice, it gets the
name <span class="inlinecode"><span class="id" type="var">Cmap</span></span> while the original map function is stuck with the name
<span class="inlinecode"><span class="id" type="var">Cmap_slow</span></span> as a reminder to try to use the function defined here if
possible. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Cmap_raw">Cmap_raw</a></span> (<span class="id" type="var">x</span>:Complete <span class="id" type="var">X</span>) (<span class="id" type="var">e</span>:QposInf) :=<br/>
<span class="id" type="var">f</span> (<span class="id" type="projection"><a class="idref" href="CoRN.metric2.Complete.html#approximate">approximate</a></span> <span class="id" type="var">x</span> (<span class="id" type="definition"><a class="idref" href="CoRN.model.structures.QposInf.html#QposInf_bind">QposInf_bind</a></span> (<span class="id" type="projection"><a class="idref" href="CoRN.metric2.UniformContinuity.html#mu">mu</a></span> <span class="id" type="var">f</span>) <span class="id" type="var">e</span>)).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cmap_fun_prf">Cmap_fun_prf</a></span> (<span class="id" type="var">x</span>:Complete <span class="id" type="var">X</span>) : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#is_RegularFunction">is_RegularFunction</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">e</span> =&gt; <span class="id" type="var">f</span> (<span class="id" type="projection"><a class="idref" href="CoRN.metric2.Complete.html#approximate">approximate</a></span> <span class="id" type="var">x</span> (<span class="id" type="definition"><a class="idref" href="CoRN.model.structures.QposInf.html#QposInf_bind">QposInf_bind</a></span> (<span class="id" type="projection"><a class="idref" href="CoRN.metric2.UniformContinuity.html#mu">mu</a></span> <span class="id" type="var">f</span>) <span class="id" type="var">e</span>))).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Cmap_fun">Cmap_fun</a></span> (<span class="id" type="var">x</span>:Complete <span class="id" type="var">X</span>) : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> <span class="id" type="var">Y</span> :=<br/>
<span class="id" type="var">Build_RegularFunction</span> (<span class="id" type="lemma"><a class="idref" href="CoRN.metric2.Prelength.html#Cmap_fun_prf">Cmap_fun_prf</a></span> <span class="id" type="var">x</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cmap_prf">Cmap_prf</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.UniformContinuity.html#is_UniformlyContinuousFunction">is_UniformlyContinuousFunction</a></span> <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cmap_fun">Cmap_fun</a></span> (<span class="id" type="projection"><a class="idref" href="CoRN.metric2.UniformContinuity.html#mu">mu</a></span> <span class="id" type="var">f</span>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Cmap">Cmap</a></span> : (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> <span class="id" type="var">X</span>) --&gt; (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> <span class="id" type="var">Y</span>) :=<br/>
<span class="id" type="var">Build_UniformlyContinuousFunction</span> <span class="id" type="lemma"><a class="idref" href="CoRN.metric2.Prelength.html#Cmap_prf">Cmap_prf</a></span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">Cmap</span></span> is equivalent to the original <span class="inlinecode"><span class="id" type="var">Cmap_slow</span></span> 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cmap_correct">Cmap_correct</a></span> : <span class="id" type="projection"><a class="idref" href="CoRN.algebra.RSetoid.html#st_eq">st_eq</a></span> <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cmap">Cmap</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Cmap_slow">Cmap_slow</a></span> <span class="id" type="var">f</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cmap_fun_correct">Cmap_fun_correct</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span>, <span class="id" type="projection"><a class="idref" href="CoRN.algebra.RSetoid.html#st_eq">st_eq</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cmap_fun">Cmap_fun</a></span> <span class="id" type="var">x</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Cmap_slow_fun">Cmap_slow_fun</a></span> <span class="id" type="var">f</span> <span class="id" type="var">x</span>).<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.metric2.Prelength.html#Map">Map</a></span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
Similarly we define a new Cbind 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Cbind">Cbind</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> (<span class="id" type="var">f</span>:X--&gt;Complete <span class="id" type="var">Y</span>) := <span class="id" type="definition"><a class="idref" href="CoRN.metric2.UniformContinuity.html#uc_compose">uc_compose</a></span> <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Cjoin">Cjoin</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cmap">Cmap</a></span> <span class="id" type="var">plX</span> <span class="id" type="var">f</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cbind_correct">Cbind_correct</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> (<span class="id" type="var">f</span>:X--&gt;Complete <span class="id" type="var">Y</span>), <span class="id" type="projection"><a class="idref" href="CoRN.algebra.RSetoid.html#st_eq">st_eq</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cbind">Cbind</a></span> <span class="id" type="var">plX</span> <span class="id" type="var">f</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Cbind_slow">Cbind_slow</a></span> <span class="id" type="var">f</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cbind_fun_correct">Cbind_fun_correct</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> (<span class="id" type="var">f</span>:X--&gt;Complete <span class="id" type="var">Y</span>) <span class="id" type="var">x</span>, <span class="id" type="projection"><a class="idref" href="CoRN.algebra.RSetoid.html#st_eq">st_eq</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cbind">Cbind</a></span> <span class="id" type="var">plX</span> <span class="id" type="var">f</span> <span class="id" type="var">x</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Cbind_slow">Cbind_slow</a></span> <span class="id" type="var">f</span> <span class="id" type="var">x</span>).<br/>

<br/>
</div>

<div class="doc">
Similarly we define a new Cmap_strong 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cmap_strong_prf">Cmap_strong_prf</a></span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">X</span> <span class="id" type="var">Y</span>:MetricSpace) (<span class="id" type="var">plX</span>:PrelengthSpace <span class="id" type="var">X</span>),<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.metric2.UniformContinuity.html#is_UniformlyContinuousFunction">is_UniformlyContinuousFunction</a></span> (@<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cmap">Cmap</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span>) <span class="id" type="constructor"><a class="idref" href="CoRN.model.structures.QposInf.html#Qpos2QposInf">Qpos2QposInf</a></span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Cmap_strong">Cmap_strong</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> : (<span class="id" type="var">X</span> --&gt; <span class="id" type="var">Y</span>) --&gt; (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> <span class="id" type="var">X</span> --&gt; <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> <span class="id" type="var">Y</span>) :=<br/>
<span class="id" type="var">Build_UniformlyContinuousFunction</span> (@<span class="id" type="lemma"><a class="idref" href="CoRN.metric2.Prelength.html#Cmap_strong_prf">Cmap_strong_prf</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cmap_strong_correct">Cmap_strong_correct</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span>, <span class="id" type="projection"><a class="idref" href="CoRN.algebra.RSetoid.html#st_eq">st_eq</a></span> (@<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cmap_strong">Cmap_strong</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span>) (@<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Cmap_strong_slow">Cmap_strong_slow</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span>).<br/>

<br/>
</div>

<div class="doc">
Similarly we define a new Cap 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Cap_raw">Cap_raw</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> (<span class="id" type="var">f</span>:Complete (<span class="id" type="var">X</span> --&gt; <span class="id" type="var">Y</span>)) (<span class="id" type="var">x</span>:Complete <span class="id" type="var">X</span>) (<span class="id" type="var">e</span>:QposInf) :=<br/>
&nbsp;<span class="id" type="projection"><a class="idref" href="CoRN.metric2.Complete.html#approximate">approximate</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cmap">Cmap</a></span> <span class="id" type="var">plX</span> (<span class="id" type="projection"><a class="idref" href="CoRN.metric2.Complete.html#approximate">approximate</a></span> <span class="id" type="var">f</span> ((1#2)%Qpos*e)%QposInf) <span class="id" type="var">x</span>) ((1#2)%Qpos*e)%QposInf.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cap_fun_prf">Cap_fun_prf</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> (<span class="id" type="var">f</span>:Complete (<span class="id" type="var">X</span> --&gt; <span class="id" type="var">Y</span>)) (<span class="id" type="var">x</span>:Complete <span class="id" type="var">X</span>) : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#is_RegularFunction">is_RegularFunction</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cap_raw">Cap_raw</a></span> <span class="id" type="var">plX</span> <span class="id" type="var">f</span> <span class="id" type="var">x</span>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Cap_fun">Cap_fun</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> (<span class="id" type="var">f</span>:Complete (<span class="id" type="var">X</span> --&gt; <span class="id" type="var">Y</span>)) (<span class="id" type="var">x</span>:Complete <span class="id" type="var">X</span>) : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> <span class="id" type="var">Y</span> :=<br/>
<span class="id" type="var">Build_RegularFunction</span> (<span class="id" type="lemma"><a class="idref" href="CoRN.metric2.Prelength.html#Cap_fun_prf">Cap_fun_prf</a></span> <span class="id" type="var">plX</span> <span class="id" type="var">f</span> <span class="id" type="var">x</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cap_fun_correct">Cap_fun_correct</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> (<span class="id" type="var">f</span>:Complete (<span class="id" type="var">X</span> --&gt; <span class="id" type="var">Y</span>)) <span class="id" type="var">x</span>, <span class="id" type="projection"><a class="idref" href="CoRN.algebra.RSetoid.html#st_eq">st_eq</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cap_fun">Cap_fun</a></span> <span class="id" type="var">plX</span> <span class="id" type="var">f</span> <span class="id" type="var">x</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Cap_slow_fun">Cap_slow_fun</a></span> <span class="id" type="var">f</span> <span class="id" type="var">x</span>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Cap_modulus">Cap_modulus</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> (<span class="id" type="var">f</span>:Complete (<span class="id" type="var">X</span> --&gt; <span class="id" type="var">Y</span>)) (<span class="id" type="var">e</span>:Qpos) : Q<SUP>+</SUP><SUB>&infin;</SUB> := (<span class="id" type="projection"><a class="idref" href="CoRN.metric2.UniformContinuity.html#mu">mu</a></span> (<span class="id" type="projection"><a class="idref" href="CoRN.metric2.Complete.html#approximate">approximate</a></span> <span class="id" type="var">f</span> ((1#3)*e)%Qpos) ((1#3)*e)).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cap_weak_prf">Cap_weak_prf</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> (<span class="id" type="var">f</span>:Complete (<span class="id" type="var">X</span> --&gt; <span class="id" type="var">Y</span>)) : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.UniformContinuity.html#is_UniformlyContinuousFunction">is_UniformlyContinuousFunction</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cap_fun">Cap_fun</a></span> <span class="id" type="var">plX</span> <span class="id" type="var">f</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cap_modulus">Cap_modulus</a></span> <span class="id" type="var">f</span>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Cap_weak">Cap_weak</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> (<span class="id" type="var">f</span>:Complete (<span class="id" type="var">X</span> --&gt; <span class="id" type="var">Y</span>)) : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> <span class="id" type="var">X</span> --&gt; <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> <span class="id" type="var">Y</span> :=<br/>
<span class="id" type="var">Build_UniformlyContinuousFunction</span> (<span class="id" type="lemma"><a class="idref" href="CoRN.metric2.Prelength.html#Cap_weak_prf">Cap_weak_prf</a></span> <span class="id" type="var">plX</span> <span class="id" type="var">f</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cap_weak_correct">Cap_weak_correct</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> (<span class="id" type="var">f</span>:Complete (<span class="id" type="var">X</span> --&gt; <span class="id" type="var">Y</span>)), <span class="id" type="projection"><a class="idref" href="CoRN.algebra.RSetoid.html#st_eq">st_eq</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cap_weak">Cap_weak</a></span> <span class="id" type="var">plX</span> <span class="id" type="var">f</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Cap_weak_slow">Cap_weak_slow</a></span> <span class="id" type="var">f</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cap_prf">Cap_prf</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.UniformContinuity.html#is_UniformlyContinuousFunction">is_UniformlyContinuousFunction</a></span> (@<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cap_weak">Cap_weak</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span>) <span class="id" type="constructor"><a class="idref" href="CoRN.model.structures.QposInf.html#Qpos2QposInf">Qpos2QposInf</a></span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Cap">Cap</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span> : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> (<span class="id" type="var">X</span> --&gt; <span class="id" type="var">Y</span>) --&gt; <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> <span class="id" type="var">X</span> --&gt; <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> <span class="id" type="var">Y</span> :=<br/>
<span class="id" type="var">Build_UniformlyContinuousFunction</span> (<span class="id" type="lemma"><a class="idref" href="CoRN.metric2.Prelength.html#Cap_prf">Cap_prf</a></span> <span class="id" type="var">plX</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Cap_correct">Cap_correct</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span>, <span class="id" type="projection"><a class="idref" href="CoRN.algebra.RSetoid.html#st_eq">st_eq</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cap">Cap</a></span> <span class="id" type="var">Y</span> <span class="id" type="var">plX</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Cap_slow">Cap_slow</a></span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span>).<br/>

<br/>

<br/>
</div>

<div class="doc">
Similarly we define a new <span class="inlinecode"><span class="id" type="var">Cmap2</span></span>. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Cmap2">Cmap2</a></span> (<span class="id" type="var">X</span> <span class="id" type="var">Y</span> <b>Z</b>:MetricSpace) (<span class="id" type="var">Xpl</span> : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#PrelengthSpace">PrelengthSpace</a></span> <span class="id" type="var">X</span>) (<span class="id" type="var">Ypl</span> : <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#PrelengthSpace">PrelengthSpace</a></span> <span class="id" type="var">Y</span>) <span class="id" type="var">f</span> := <span class="id" type="definition"><a class="idref" href="CoRN.metric2.UniformContinuity.html#uc_compose">uc_compose</a></span> (@<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cap">Cap</a></span> <span class="id" type="var">Y</span> <b>Z</b> <span class="id" type="var">Ypl</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#Cmap">Cmap</a></span> <span class="id" type="var">Xpl</span> <span class="id" type="var">f</span>).<br/>

<br/>
</div>

<div class="doc">
Completion of a metric space preserves the prelength property.
In fact the completion of a prelenght space is a length space, but
we have not formalized the notion of a length space yet. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="CompletePL">CompletePL</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">X</span>, <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#PrelengthSpace">PrelengthSpace</a></span> <span class="id" type="var">X</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.metric2.Prelength.html#PrelengthSpace">PrelengthSpace</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.metric2.Complete.html#Complete">Complete</a></span> <span class="id" type="var">X</span>).<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr">coqdoc</a>
</div>

</div>

</body>
</html>