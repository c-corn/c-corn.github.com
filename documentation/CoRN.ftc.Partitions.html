<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>CoRN.ftc.Partitions</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<div class="code">

<br/>

<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Definitions">Definitions</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab519"></a><h1 class="section">Partitions</h1>


<br/><br/>
We now begin to lay the way for the definition of Riemann integral.  This will
be done through the definition of a sequence of
sums that is proved to be convergent; in order to do that, we first
need to do a bit of work on partitions.

<br/><br/>
<a name="lab520"></a><h2 class="section">Definitions</h2>


<br/><br/>
A partition is defined as a record type.  For each compact interval <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span>
and each natural number <span class="inlinecode"><span class="id" type="var">n</span></span>, a partition of <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span> with <span class="inlinecode"><span class="id" type="var">n</span>+1</span> points is a
choice of real numbers <span class="inlinecode"><span class="id" type="var">a</span> = <span class="id" type="var">a0</span> &le; <span class="id" type="var">a1</span> &le; <span class="id" type="var">an</span> = <span class="id" type="var">b</span></span>; the following
specification works as follows:

<ul>
<li> <span class="inlinecode"><span class="id" type="var">Pts</span></span> is the function that chooses the points (it is declared as a
coercion);

</li>
<li> <span class="inlinecode"><span class="id" type="var">prf1</span></span> states that <span class="inlinecode"><span class="id" type="var">Pts</span></span> is a setoid function;

</li>
<li> <span class="inlinecode"><span class="id" type="var">prf2</span></span> states that the points are ordered;

</li>
<li> <span class="inlinecode"><span class="id" type="var">start</span></span> requires that <span class="inlinecode"><span class="id" type="var">a0</span> = <span class="id" type="var">a</span></span> and

</li>
<li> <span class="inlinecode"><span class="id" type="var">finish</span></span> requires that <span class="inlinecode"><span class="id" type="var">an</span> = <span class="id" type="var">b</span></span>.

</li>
</ul>

<br/><br/>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Record</span> <span class="id" type="record"><a name="Partition">Partition</a></span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) (<span class="id" type="var">Hab</span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>) (<span class="id" type="var">lng</span> : <b>N</b>) : <span class="id" type="keyword">Type</span> := <br/>
&nbsp;&nbsp;{<span class="id" type="projection"><a name="Pts">Pts</a></span>    :&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span>, <span class="id" type="var">i</span> &lt;= <span class="id" type="var">lng</span> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="projection"><a name="prf1">prf1</a></span>   :  <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span>, <span class="id" type="var">i</span> = <span class="id" type="var">j</span> -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">Hi</span> <span class="id" type="var">Hj</span>, <span class="id" type="method"><a class="idref" href="CoRN.ftc.Partitions.html#Pts">Pts</a></span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> [=] <span class="id" type="method"><a class="idref" href="CoRN.ftc.Partitions.html#Pts">Pts</a></span> <span class="id" type="var">j</span> <span class="id" type="var">Hj</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="projection"><a name="prf2">prf2</a></span>   :  <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> <span class="id" type="var">HSi</span>, <span class="id" type="method"><a class="idref" href="CoRN.ftc.Partitions.html#Pts">Pts</a></span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> [&lt;=] <span class="id" type="method"><a class="idref" href="CoRN.ftc.Partitions.html#Pts">Pts</a></span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">i</span>) <span class="id" type="var">HSi</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="projection"><a name="start">start</a></span>  :  <span class="id" type="keyword">forall</span> <span class="id" type="var">H</span>, <span class="id" type="method"><a class="idref" href="CoRN.ftc.Partitions.html#Pts">Pts</a></span> 0 <span class="id" type="var">H</span> [=] <span class="id" type="var">a</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="projection"><a name="finish">finish</a></span> :  <span class="id" type="keyword">forall</span> <span class="id" type="var">H</span>, <span class="id" type="method"><a class="idref" href="CoRN.ftc.Partitions.html#Pts">Pts</a></span> <span class="id" type="var">lng</span> <span class="id" type="var">H</span> [=] <span class="id" type="var">b</span>}.<br/>

<br/>
</div>

<div class="doc">
Two immediate consequences of this are that <span class="inlinecode"><span class="id" type="var">ai</span> &le; <span class="id" type="var">aj</span></span> whenever
<span class="inlinecode"><span class="id" type="var">i</span> &lt; <span class="id" type="var">j</span></span> and that <span class="inlinecode"><span class="id" type="var">ai</span></span> is in <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span> for all <span class="inlinecode"><span class="id" type="var">i</span></span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Partition_mon">Partition_mon</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">lng</span> (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">lng</span>) <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">Hi</span> <span class="id" type="var">Hj</span>,<br/>
&nbsp;<span class="id" type="var">i</span> &lt;= <span class="id" type="var">j</span> -&gt; <span class="id" type="var">P</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> [&lt;=] <span class="id" type="var">P</span> <span class="id" type="var">j</span> <span class="id" type="var">Hj</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Partition_in_compact">Partition_in_compact</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">lng</span> (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">lng</span>) <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>,<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> (<span class="id" type="var">P</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>).<br/>

<br/>
</div>

<div class="doc">
Each partition of <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span> implies a partition of the interval
[a,a<sub>n-1</sub>].  This partition will play an
important role in much of our future work, so we take some care to
define it.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="part_pred_lemma">part_pred_lemma</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">lng</span> (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">lng</span>) <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>, <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">P</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Partition_Dom">Partition_Dom</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span> <span class="id" type="var">P</span> :<br/>
&nbsp;&nbsp;<span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">a</span> <span class="id" type="var">_</span> (<span class="id" type="lemma"><a class="idref" href="CoRN.ftc.Partitions.html#part_pred_lemma">part_pred_lemma</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">n</span>) <span class="id" type="var">P</span> <span class="id" type="var">n</span> (<span class="id" type="lemma"><a class="idref" href="http://coq.inria.fr/library/Coq.Arith.Le.html#le_n_Sn">le_n_Sn</a></span> <span class="id" type="var">n</span>)) <span class="id" type="var">n</span>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The mesh of a partition is the greatest distance between two
consecutive points.  For convenience's sake we also define the dual
concept, which is very helpful in some situations.  In order to do
this, we begin by building a list with all the distances between
consecutive points; next we only need to extract the maximum and the
minimum of this list. Notice that this list is nonempty except in the
case when <span class="inlinecode"><span class="id" type="var">a</span> = <span class="id" type="var">b</span></span> and <span class="inlinecode"><span class="id" type="var">n</span> = 0</span>; this means that the convention we took
of defining the minimum and maximum of the empty list to be <span class="inlinecode">0</span> actually
helps us in this case.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Part_Mesh_List">Part_Mesh_List</a></span> <span class="id" type="var">n</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>) : <span class="id" type="inductive"><a class="idref" href="http://coq.inria.fr/library/Coq.Lists.List.html#list">list</a></span> <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Mesh">Mesh</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span> <span class="id" type="var">P</span> := <span class="id" type="definition"><a class="idref" href="CoRN.reals.RealLists.html#maxlist">maxlist</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Part_Mesh_List">Part_Mesh_List</a></span> <span class="id" type="var">n</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">P</span>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="AntiMesh">AntiMesh</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span> <span class="id" type="var">P</span> := <span class="id" type="definition"><a class="idref" href="CoRN.reals.RealLists.html#minlist">minlist</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Part_Mesh_List">Part_Mesh_List</a></span> <span class="id" type="var">n</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">P</span>).<br/>

<br/>
</div>

<div class="doc">
Even partitions (partitions where all the points are evenly spaced)
will also play a central role in our work; the first two lemmas are
presented simply to make the definition of even partition lighter.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="even_part_1">even_part_1</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">n</span> <span class="id" type="var">Hn</span>, <span class="id" type="var">a</span>[+]<span class="id" type="definition"><a class="idref" href="CoRN.algebra.CRings.html#nring">nring</a></span> 0[*] (<span class="id" type="var">b</span>[-]<span class="id" type="var">a</span>[/] <span class="id" type="var">_</span>[//]<span class="id" type="lemma"><a class="idref" href="CoRN.algebra.COrdFields.html#nring_ap_zero'">nring_ap_zero'</a></span> <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> <span class="id" type="var">n</span> <span class="id" type="var">Hn</span>) [=] <span class="id" type="var">a</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="even_part_2">even_part_2</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">n</span> <span class="id" type="var">Hn</span>, <span class="id" type="var">a</span>[+]<span class="id" type="definition"><a class="idref" href="CoRN.algebra.CRings.html#nring">nring</a></span> <span class="id" type="var">n</span>[*] (<span class="id" type="var">b</span>[-]<span class="id" type="var">a</span>[/] <span class="id" type="var">_</span>[//]<span class="id" type="lemma"><a class="idref" href="CoRN.algebra.COrdFields.html#nring_ap_zero'">nring_ap_zero'</a></span> <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span> <span class="id" type="var">n</span> <span class="id" type="var">Hn</span>) [=] <span class="id" type="var">b</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Even_Partition">Even_Partition</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span> (<span class="id" type="var">Hn</span> : 0 &lt;&gt; <span class="id" type="var">n</span>) : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Definitions.Refinements">Refinements</a></span>.<br/>

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Definitions.Refinements.a">a</a></span> <span class="id" type="variable"><a name="Definitions.Refinements.b">b</a></span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Definitions.Refinements.Hab">Hab</a></span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>.<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Definitions.Refinements.m">m</a></span> <span class="id" type="variable"><a name="Definitions.Refinements.n">n</a></span> : <b>N</b>.<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Definitions.Refinements.P">P</a></span> : (<span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>).<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Definitions.Refinements.Q">Q</a></span> : (<span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">m</span>).<br/>

<br/>
</div>

<div class="doc">
We now define what it means for a partition <span class="inlinecode"><span class="id" type="var">Q</span></span> to be a refinement of
<span class="inlinecode"><span class="id" type="var">P</span></span> and prove the main property of refinements.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Refinement">Refinement</a></span> := {<span class="id" type="var">f</span> : <b>N</b> -&gt; <b>N</b> |<br/>
&nbsp;&nbsp;<span class="id" type="var">f</span> 0 = 0 /\ <span class="id" type="var">f</span> <span class="id" type="var">n</span> = <span class="id" type="var">m</span> /\ (<span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span>, <span class="id" type="var">i</span> &lt; <span class="id" type="var">j</span> -&gt; <span class="id" type="var">f</span> <span class="id" type="var">i</span> &lt; <span class="id" type="var">f</span> <span class="id" type="var">j</span>) |<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>, {<span class="id" type="var">H'</span> : <span class="id" type="var">f</span> <span class="id" type="var">i</span> &lt;= <span class="id" type="var">m</span> | <span class="id" type="var">P</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> [=] <span class="id" type="var">Q</span> (<span class="id" type="var">f</span> <span class="id" type="var">i</span>) <span class="id" type="var">H'</span>}}.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Refinement_prop">Refinement_prop</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Refinement">Refinement</a></span> -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> (<span class="id" type="var">Hi</span> : <span class="id" type="var">i</span> &lt;= <span class="id" type="var">m</span>) (<span class="id" type="var">HSi</span> : (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">i</span>) &lt;= <span class="id" type="var">m</span>),<br/>
&nbsp;{<span class="id" type="var">j</span> : <b>N</b> | {<span class="id" type="var">Hj</span> : <span class="id" type="var">j</span> &lt;= <span class="id" type="var">n</span> | {<span class="id" type="var">HSj</span> : <span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">j</span> &lt;= <span class="id" type="var">n</span> | <span class="id" type="var">P</span> <span class="id" type="var">_</span> <span class="id" type="var">Hj</span> [&lt;=] <span class="id" type="var">Q</span> <span class="id" type="var">_</span> <span class="id" type="var">Hi</span> | <span class="id" type="var">Q</span> <span class="id" type="var">_</span> <span class="id" type="var">HSi</span> [&lt;=] <span class="id" type="var">P</span> <span class="id" type="var">_</span> <span class="id" type="var">HSj</span>}}}.<br/>

<br/>
</div>

<div class="doc">
We will also need to consider arbitrary sums of
f(x<sub>i</sub>)(a<sub>i+1</sub>-a<sub>i</sub>) where
x<sub>i</sub>&isin;[a<sub>i</sub>,a<sub>i+1</sub>].
For this, we again need a choice function <span class="inlinecode"><span class="id" type="var">x</span></span> which has to satisfy
some condition.  We define the condition and the sum for a fixed <span class="inlinecode"><span class="id" type="var">P</span></span>:

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Points_in_Partition">Points_in_Partition</a></span> (<span class="id" type="var">g</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span>, <span class="id" type="var">i</span> &lt; <span class="id" type="var">n</span> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) : <span class="id" type="definition"><a class="idref" href="CoRN.logic.CLogic.html#CProp">CProp</a></span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>, <span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> (<span class="id" type="projection"><a class="idref" href="CoRN.ftc.Partitions.html#prf2">prf2</a></span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">P</span> <span class="id" type="var">i</span> (<span class="id" type="lemma"><a class="idref" href="http://coq.inria.fr/library/Coq.Arith.Lt.html#lt_le_weak">lt_le_weak</a></span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">Hi</span>) <span class="id" type="var">Hi</span>) (<span class="id" type="var">g</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Pts_part_lemma">Pts_part_lemma</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">g</span>, <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Points_in_Partition">Points_in_Partition</a></span> <span class="id" type="var">g</span> -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>, <span class="id" type="definition"><a class="idref" href="CoRN.reals.Intervals.html#compact">compact</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> (<span class="id" type="var">g</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> &sum;<sub>P</sub> <span class="id" type="var">g</span> <span class="id" type="var">F</span> (<span class="id" type="var">H</span> : <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Points_in_Partition">Points_in_Partition</a></span> <span class="id" type="var">g</span>) (<span class="id" type="var">incF</span> : &sube; (<span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.Intervals.html#Compact">Compact</a></span> <span class="id" type="var">Hab</span>) (<span class="id" type="abbreviation"><a class="idref" href="CoRN.algebra.CSetoidFun.html#Dom">Dom</a></span> <span class="id" type="var">F</span>)) :=<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.algebra.CSums.html#Sumx">Sumx</a></span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> =&gt; <span class="id" type="var">F</span> (<span class="id" type="var">g</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>) (<span class="id" type="var">incF</span> <span class="id" type="var">_</span> (<span class="id" type="lemma"><a class="idref" href="CoRN.ftc.Partitions.html#Pts_part_lemma">Pts_part_lemma</a></span> <span class="id" type="var">_</span> <span class="id" type="var">H</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>)) [*]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">i</span>) <span class="id" type="var">Hi</span>[-]<span class="id" type="var">P</span> <span class="id" type="var">i</span> (<span class="id" type="lemma"><a class="idref" href="http://coq.inria.fr/library/Coq.Arith.Lt.html#lt_le_weak">lt_le_weak</a></span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">Hi</span>))).<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.ftc.Partitions.html#Definitions.Refinements">Refinements</a></span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab521"></a><h2 class="section">Constructions</h2>


<br/><br/>
We now formalize some trivial and helpful constructions.

<br/><br/>
 We will assume a fixed compact interval <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span>, denoted by <span class="inlinecode"><span class="id" type="var">I</span></span>.


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Definitions.a">a</a></span> <span class="id" type="variable"><a name="Definitions.b">b</a></span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Definitions.Hab">Hab</a></span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Definitions.Getting_Points">Getting_Points</a></span>.<br/>

<br/>
</div>

<div class="doc">
From a partition we always have a canonical choice of points at which
to evaluate a function: just take all but the last points of the
partition.

<br/><br/>
 Let <span class="inlinecode"><span class="id" type="var">Q</span></span> be a partition of <span class="inlinecode"><span class="id" type="var">I</span></span> with <span class="inlinecode"><span class="id" type="var">m</span></span> points.


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Definitions.Getting_Points.m">m</a></span> : <b>N</b>.<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Definitions.Getting_Points.Q">Q</a></span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">Hab</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Partition_imp_points">Partition_imp_points</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> : <b>N</b>, <span class="id" type="var">i</span> &lt; <span class="id" type="var">m</span> -&gt; <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Partition_imp_points_1">Partition_imp_points_1</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Points_in_Partition">Points_in_Partition</a></span> <span class="id" type="var">Q</span> <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Partition_imp_points">Partition_imp_points</a></span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Partition_imp_points_2">Partition_imp_points_2</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.algebra.CSetoids.html#nat_less_n_fun">nat_less_n_fun</a></span> <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Partition_imp_points">Partition_imp_points</a></span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.ftc.Partitions.html#Definitions.Getting_Points">Getting_Points</a></span>.<br/>

<br/>
</div>

<div class="doc">
As a corollary, given any continuous function <span class="inlinecode"><span class="id" type="var">F</span></span> and a natural number we have an immediate choice of a sum of <span class="inlinecode"><span class="id" type="var">F</span></span> in <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Definitions.F">F</a></span> : <span class="id" type="abbreviation"><a class="idref" href="CoRN.reals.CauchySeq.html#PartIR">PartIR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Definitions.contF">contF</a></span> : <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Continuity.html#Continuous_I">Continuous_I</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">F</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Even_Partition_Sum">Even_Partition_Sum</a></span> (<span class="id" type="var">n</span> : <b>N</b>) (<span class="id" type="var">Hn</span> : 0 &lt;&gt; <span class="id" type="var">n</span>) : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.ftc.Partitions.html#Definitions">Definitions</a></span>.<br/>

<br/>

<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Lemmas">Lemmas</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab522"></a><h2 class="section">Properties of the mesh</h2>


<br/><br/>
If a partition has more than one point then its mesh list is nonempty.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="length_Part_Mesh_List">length_Part_Mesh_List</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) (<span class="id" type="var">Hab</span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>) (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>),<br/>
&nbsp;0 &lt; <span class="id" type="var">n</span> -&gt; 0 &lt; <span class="id" type="definition"><a class="idref" href="http://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Part_Mesh_List">Part_Mesh_List</a></span> <span class="id" type="var">P</span>).<br/>

<br/>
</div>

<div class="doc">
Any element of the auxiliary list defined to calculate the mesh of a partition has a very specific form.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Part_Mesh_List_lemma">Part_Mesh_List_lemma</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) (<span class="id" type="var">Hab</span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>) (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>) <span class="id" type="var">x</span>,<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.reals.RealLists.html#member">member</a></span> <span class="id" type="var">x</span> (<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Part_Mesh_List">Part_Mesh_List</a></span> <span class="id" type="var">P</span>) -&gt;<br/>
&nbsp;{<span class="id" type="var">i</span> : <b>N</b> | {<span class="id" type="var">Hi</span> : <span class="id" type="var">i</span> &lt;= <span class="id" type="var">n</span> | {<span class="id" type="var">Hi'</span> : <span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">i</span> &lt;= <span class="id" type="var">n</span> | <span class="id" type="var">x</span> [=] <span class="id" type="var">P</span> <span class="id" type="var">_</span> <span class="id" type="var">Hi'</span>[-]<span class="id" type="var">P</span> <span class="id" type="var">_</span> <span class="id" type="var">Hi</span>}}}.<br/>

<br/>
</div>

<div class="doc">
Mesh and antimesh are always nonnegative.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Mesh_nonneg">Mesh_nonneg</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) (<span class="id" type="var">Hab</span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>) (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>), 0 [&lt;=] <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Mesh">Mesh</a></span> <span class="id" type="var">P</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="AntiMesh_nonneg">AntiMesh_nonneg</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>) (<span class="id" type="var">Hab</span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>) (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>),<br/>
&nbsp;0 [&lt;=] <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#AntiMesh">AntiMesh</a></span> <span class="id" type="var">P</span>.<br/>

<br/>
</div>

<div class="doc">
Most important, <span class="inlinecode"><span class="id" type="var">AntiMesh</span></span> and <span class="inlinecode"><span class="id" type="var">Mesh</span></span> provide lower and upper bounds
for the distance between any two consecutive points in a partition.

<br/><br/>
 Let <span class="inlinecode"><span class="id" type="var">I</span></span> be <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span> and <span class="inlinecode"><span class="id" type="var">P</span></span> be a partition of <span class="inlinecode"><span class="id" type="var">I</span></span>
with <span class="inlinecode"><span class="id" type="var">n</span></span> points.


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Lemmas.a">a</a></span> <span class="id" type="variable"><a name="Lemmas.b">b</a></span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Lemmas.Hab">Hab</a></span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Lemmas.n">n</a></span> : <b>N</b>.<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="Lemmas.P">P</a></span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Mesh_lemma">Mesh_lemma</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">H</span> <span class="id" type="var">H'</span>, <span class="id" type="var">P</span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">i</span>) <span class="id" type="var">H'</span>[-]<span class="id" type="var">P</span> <span class="id" type="var">i</span> <span class="id" type="var">H</span> [&lt;=] <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Mesh">Mesh</a></span> <span class="id" type="var">P</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="AntiMesh_lemma">AntiMesh_lemma</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">H</span> <span class="id" type="var">H'</span>, <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#AntiMesh">AntiMesh</a></span> <span class="id" type="var">P</span> [&lt;=] <span class="id" type="var">P</span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">i</span>) <span class="id" type="var">H'</span>[-]<span class="id" type="var">P</span> <span class="id" type="var">i</span> <span class="id" type="var">H</span>.<br/>
<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Mesh_leEq">Mesh_leEq</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> (<span class="id" type="var">Q</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">m</span>), <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Refinement">Refinement</a></span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Mesh">Mesh</a></span> <span class="id" type="var">Q</span> [&lt;=] <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Mesh">Mesh</a></span> <span class="id" type="var">P</span>.<br/>
<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.ftc.Partitions.html#Lemmas">Lemmas</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Even_Partitions">Even_Partitions</a></span>.<br/>

<br/>
</div>

<div class="doc">
More technical stuff.  Two equal partitions have the same mesh.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Mesh_wd">Mesh_wd</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">b'</span> (<span class="id" type="var">Hab</span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>) (<span class="id" type="var">Hab'</span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b'</span>)<br/>
&nbsp;(<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>) (<span class="id" type="var">Q</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab'</span> <span class="id" type="var">n</span>),<br/>
&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>, <span class="id" type="var">P</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> [=] <span class="id" type="var">Q</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>) -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Mesh">Mesh</a></span> <span class="id" type="var">P</span> [=] <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Mesh">Mesh</a></span> <span class="id" type="var">Q</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Mesh_wd'">Mesh_wd'</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> (<span class="id" type="var">Hab</span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>) (<span class="id" type="var">P</span> <span class="id" type="var">Q</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>),<br/>
&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>, <span class="id" type="var">P</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> [=] <span class="id" type="var">Q</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span>) -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Mesh">Mesh</a></span> <span class="id" type="var">P</span> [=] <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Mesh">Mesh</a></span> <span class="id" type="var">Q</span>.<br/>

<br/>
</div>

<div class="doc">
The mesh of an even partition is easily calculated.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="even_partition_Mesh">even_partition_Mesh</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">Hm</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> (<span class="id" type="var">Hab</span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>),<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Mesh">Mesh</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Even_Partition">Even_Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">m</span> <span class="id" type="var">Hm</span>) [=] (<span class="id" type="var">b</span>[-]<span class="id" type="var">a</span>[/] <span class="id" type="var">_</span>[//]<span class="id" type="lemma"><a class="idref" href="CoRN.algebra.COrdFields.html#nring_ap_zero'">nring_ap_zero'</a></span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">Hm</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab523"></a><h2 class="section">Miscellaneous</h2>

 Throughout this section, let <span class="inlinecode"><span class="id" type="var">a</span>,b:IR</span> and <span class="inlinecode"><span class="id" type="var">I</span></span> be <span class="inlinecode">[<span class="id" type="var">a</span>,b]</span>.


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Even_Partitions.a">a</a></span> <span class="id" type="variable"><a name="Even_Partitions.b">b</a></span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Even_Partitions.Hab">Hab</a></span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>.<br/>

<br/>
</div>

<div class="doc">
An interesting property: in a partition, if <span class="inlinecode"><span class="id" type="var">ai</span> &lt; <span class="id" type="var">aj</span></span> then <span class="inlinecode"><span class="id" type="var">i</span> &lt; <span class="id" type="var">j</span></span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="Partition_Points_mon">Partition_Points_mon</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>) <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">Hi</span> <span class="id" type="var">Hj</span>,<br/>
&nbsp;<span class="id" type="var">P</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> [&lt;] <span class="id" type="var">P</span> <span class="id" type="var">j</span> <span class="id" type="var">Hj</span> -&gt; <span class="id" type="var">i</span> &lt; <span class="id" type="var">j</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="refinement_resp_mult">refinement_resp_mult</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span> <span class="id" type="var">Hm</span> <span class="id" type="var">Hn</span>, {<span class="id" type="var">k</span> : <b>N</b> | <span class="id" type="var">m</span> = <span class="id" type="var">n</span> * <span class="id" type="var">k</span>} -&gt;<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Refinement">Refinement</a></span> (<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Even_Partition">Even_Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span> <span class="id" type="var">Hn</span>) (<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Even_Partition">Even_Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">m</span> <span class="id" type="var">Hm</span>).<br/>

<br/>
</div>

<div class="doc">
 Assume <span class="inlinecode"><span class="id" type="var">m</span>,n</span> are positive natural numbers and
denote by <span class="inlinecode"><span class="id" type="var">P</span></span> and <span class="inlinecode"><span class="id" type="var">Q</span></span> the even partitions with, respectively, <span class="inlinecode"><span class="id" type="var">m</span></span> and
<span class="inlinecode"><span class="id" type="var">n</span></span> points.


<br/><br/>
Even partitions always have a common refinement.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Even_Partitions.m">m</a></span> <span class="id" type="variable"><a name="Even_Partitions.n">n</a></span> : <b>N</b>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Even_Partitions.Hm">Hm</a></span> : 0 &lt;&gt; <span class="id" type="var">m</span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Even_Partitions.Hn">Hn</a></span> : 0 &lt;&gt; <span class="id" type="var">n</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="even_partition_refinement">even_partition_refinement</a></span> : {<span class="id" type="var">N</span> : <b>N</b> | {<span class="id" type="var">HN</span> : 0 &lt;&gt; <span class="id" type="var">N</span> |<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Refinement">Refinement</a></span> <span class="id" type="var">P</span> (<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Even_Partition">Even_Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">N</span> <span class="id" type="var">HN</span>) |<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Refinement">Refinement</a></span> <span class="id" type="var">Q</span> (<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#Even_Partition">Even_Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">N</span> <span class="id" type="var">HN</span>)}}.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.ftc.Partitions.html#Even_Partitions">Even_Partitions</a></span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="More_Definitions">More_Definitions</a></span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab524"></a><h2 class="section">Separation</h2>


<br/><br/>
Some auxiliary definitions.  A partition is said to be separated if all its points are distinct.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="More_Definitions.a">a</a></span> <span class="id" type="variable"><a name="More_Definitions.b">b</a></span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="More_Definitions.Hab">Hab</a></span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="_Separated">_Separated</a></span> <span class="id" type="var">n</span> (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>) := <span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> <span class="id" type="var">H'</span>, <span class="id" type="var">P</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> [&lt;] <span class="id" type="var">P</span> (<span class="id" type="constructor"><a class="idref" href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id" type="var">i</span>) <span class="id" type="var">H'</span>.<br/>

<br/>
</div>

<div class="doc">
Two partitions are said to be (mutually) separated if they are both
separated and all their points are distinct (except for the
endpoints).

<br/><br/>
 Let <span class="inlinecode"><span class="id" type="var">P</span>,Q</span> be partitions of <span class="inlinecode"><span class="id" type="var">I</span></span> with,
respectively, <span class="inlinecode"><span class="id" type="var">n</span></span> and <span class="inlinecode"><span class="id" type="var">m</span></span> points.


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="More_Definitions.n">n</a></span> <span class="id" type="variable"><a name="More_Definitions.m">m</a></span> : <b>N</b>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="More_Definitions.P">P</a></span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>.<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="variable"><a name="More_Definitions.Q">Q</a></span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="definition"><a name="Separated">Separated</a></span> := <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#_Separated">_Separated</a></span> <span class="id" type="var">_</span> <span class="id" type="var">P</span> <span class="id" type="var">and</span> <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#_Separated">_Separated</a></span> <span class="id" type="var">_</span> <span class="id" type="var">Q</span> <span class="id" type="var">and</span><br/>
&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span>, 0 &lt; <span class="id" type="var">i</span> -&gt; 0 &lt; <span class="id" type="var">j</span> -&gt; <span class="id" type="var">i</span> &lt; <span class="id" type="var">n</span> -&gt; <span class="id" type="var">j</span> &lt; <span class="id" type="var">m</span> -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">Hi</span> <span class="id" type="var">Hj</span>, <span class="id" type="var">P</span> <span class="id" type="var">i</span> <span class="id" type="var">Hi</span> [#] <span class="id" type="var">Q</span> <span class="id" type="var">j</span> <span class="id" type="var">Hj</span>).<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.ftc.Partitions.html#More_Definitions">More_Definitions</a></span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="section"><a name="Sep_Partitions">Sep_Partitions</a></span>.<br/>

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="variable"><a name="Sep_Partitions.a">a</a></span> <span class="id" type="variable"><a name="Sep_Partitions.b">b</a></span> : <span class="id" type="axiom"><a class="idref" href="CoRN.reals.CauchySeq.html#IR">IR</a></span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <span class="id" type="variable"><a name="Sep_Partitions.Hab">Hab</a></span> : <span class="id" type="var">a</span> [&lt;=] <span class="id" type="var">b</span>.<br/>

<br/>
</div>

<div class="doc">
The antimesh of a separated partition is always positive.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="pos_AntiMesh">pos_AntiMesh</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>),<br/>
&nbsp;0 &lt; <span class="id" type="var">n</span> -&gt; <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#_Separated">_Separated</a></span> <span class="id" type="var">P</span> -&gt; 0 [&lt;] <span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#AntiMesh">AntiMesh</a></span> <span class="id" type="var">P</span>.<br/>

<br/>
</div>

<div class="doc">
A partition can have only one point iff the endpoints of the interval
are the same; moreover, if the partition is separated and the
endpoints of the interval are the same then it must have one point.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="partition_length_zero">partition_length_zero</a></span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> 0 -&gt; <span class="id" type="var">a</span> [=] <span class="id" type="var">b</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="_Separated_imp_length_zero">_Separated_imp_length_zero</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>),<br/>
&nbsp;<span class="id" type="definition"><a class="idref" href="CoRN.ftc.Partitions.html#_Separated">_Separated</a></span> <span class="id" type="var">P</span> -&gt; <span class="id" type="var">a</span> [=] <span class="id" type="var">b</span> -&gt; 0 = <span class="id" type="var">n</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="lemma"><a name="partition_less_imp_gt_zero">partition_less_imp_gt_zero</a></span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> (<span class="id" type="var">P</span> : <span class="id" type="record"><a class="idref" href="CoRN.ftc.Partitions.html#Partition">Partition</a></span> <span class="id" type="var">Hab</span> <span class="id" type="var">n</span>), <span class="id" type="var">a</span> [&lt;] <span class="id" type="var">b</span> -&gt; 0 &lt; <span class="id" type="var">n</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="section"><a class="idref" href="CoRN.ftc.Partitions.html#Sep_Partitions">Sep_Partitions</a></span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr">coqdoc</a>
</div>

</div>

</body>
</html>